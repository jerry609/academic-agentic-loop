# é¡¹ç›®ä¼˜åŒ–æ–¹æ¡ˆ V2 - åŸºäº Claude Code å‘½ä»¤ç³»ç»Ÿ

## ğŸ¯ æ ¸å¿ƒç†å¿µè°ƒæ•´

### âŒ é”™è¯¯ç†è§£ï¼ˆV1ï¼‰
- éœ€è¦å†™ Python ä»£ç å®ç°æ–‡çŒ®çˆ¬å–ç³»ç»Ÿ
- éœ€è¦å®ç°å¤æ‚çš„ç±»å’Œæ¨¡å—
- éœ€è¦ 17 ä¸ªç¼–ç¨‹ä»»åŠ¡

### âœ… æ­£ç¡®ç†è§£ï¼ˆV2ï¼‰
- **å®Œå…¨åŸºäº Claude Code çš„å¹¶è¡Œä»£ç†èƒ½åŠ›**
- **é€šè¿‡è‡ªå®šä¹‰å‘½ä»¤ç¼–æ’å¤šä¸ª Sub Agent**
- **æ¯ä¸ª Agent è´Ÿè´£ç‰¹å®šçš„æ–‡çŒ®å¤„ç†ä»»åŠ¡**
- **ä¸éœ€è¦å†™ä¼ ç»Ÿçš„ Python ä»£ç **

## ğŸ§  åŸé¡¹ç›®æ¨¡å¼åˆ†æ

### Infinite Agentic Loop çš„æ ¸å¿ƒ
```
ç”¨æˆ·å‘½ä»¤ â†’ ä¸»åè°ƒå™¨ â†’ å¹¶è¡Œ Sub Agents â†’ ç”Ÿæˆå¤šä¸ªè¾“å‡º
```

**å…³é”®æ–‡ä»¶**ï¼š`.claude/commands/infinite.md`
- å®šä¹‰å‘½ä»¤å‚æ•°è§£æ
- ç¼–æ’å¹¶è¡Œä»£ç†ä»»åŠ¡
- ç®¡ç†è¾“å‡ºå’Œè¿­ä»£

**ä¸éœ€è¦**ï¼š
- âŒ Python ç±»å’Œæ¨¡å—
- âŒ å¤æ‚çš„ä»£ç æ¶æ„
- âŒ ä¼ ç»Ÿçš„è½¯ä»¶å·¥ç¨‹å®ç°

**åªéœ€è¦**ï¼š
- âœ… ä¸€ä¸ª Markdown å‘½ä»¤æ–‡ä»¶
- âœ… æ¸…æ™°çš„ Agent ä»»åŠ¡è§„èŒƒ
- âœ… å¹¶è¡Œåè°ƒé€»è¾‘

## ğŸš€ è°ƒæ•´åçš„å®æ–½æ–¹æ¡ˆ

### é˜¶æ®µ 1ï¼šåˆ›å»ºæ–‡çŒ®çˆ¬å–å‘½ä»¤ï¼ˆ1-2 å¤©ï¼‰

**ç›®æ ‡**ï¼šåˆ›å»º `.claude/commands/literature_crawler.md`

**å‘½ä»¤ç»“æ„**ï¼š
```markdown
**LITERATURE CRAWLER COMMAND**

**ARGUMENTS:**
1. seed_papers - ç§å­æ–‡çŒ®ï¼ˆDOI/arXiv ID/ä¸»é¢˜ï¼‰
2. crawl_depth - çˆ¬å–æ·±åº¦ï¼ˆ1-3ï¼‰
3. output_dir - è¾“å‡ºç›®å½•

**PHASE 1: SEED PAPER VALIDATION**
- éªŒè¯ç§å­æ–‡çŒ®çš„å¯è®¿é—®æ€§
- ä» Semantic Scholar/arXiv è·å–å…ƒæ•°æ®
- åˆ›å»ºåˆå§‹çŸ¥è¯†åº“æ–‡ä»¶

**PHASE 2: CITATION EXTRACTION**
- æå–ç§å­æ–‡çŒ®çš„å¼•ç”¨åˆ—è¡¨
- æ„å»ºå¾…çˆ¬å–é˜Ÿåˆ—
- è®¡ç®—ä¼˜å…ˆçº§

**PHASE 3: PARALLEL CRAWLING**
- æ ¹æ®é˜Ÿåˆ—å¤§å°éƒ¨ç½² Sub Agents
- æ¯ä¸ª Agent å¤„ç†ç‰¹å®šæ–‡çŒ®é›†åˆ
- å¹¶è¡Œè·å–å…ƒæ•°æ®å’Œå¼•ç”¨å…³ç³»

**PHASE 4: KNOWLEDGE EXTRACTION**
- éƒ¨ç½²çŸ¥è¯†æå– Agents
- ä»æ–‡çŒ®ä¸­æå–ç»“æ„åŒ–ä¿¡æ¯
- æ›´æ–°çŸ¥è¯†åº“

**PHASE 5: ITERATION & REGRESSION**
- åˆ†æçˆ¬å–è´¨é‡
- è°ƒæ•´ä¸‹ä¸€æ³¢æ¬¡ä¼˜å…ˆçº§
- ç»§ç»­è¿­ä»£ç›´åˆ°è¾¾åˆ°æ·±åº¦é™åˆ¶
```

### é˜¶æ®µ 2ï¼šæ•´åˆä¸¤ä¸ªå‘½ä»¤ç³»ç»Ÿï¼ˆ1 å¤©ï¼‰

**åˆ›å»ºæ•´åˆå‘½ä»¤**ï¼š`.claude/commands/research_workflow.md`

```markdown
**RESEARCH WORKFLOW COMMAND**

**æ‰§è¡Œæµç¨‹**ï¼š
1. è°ƒç”¨ literature_crawler çˆ¬å–æ–‡çŒ®
2. ä»çŸ¥è¯†åº“é€‰æ‹© Top N è®ºæ–‡
3. è°ƒç”¨ research_deep_dive ç”Ÿæˆç ”ç©¶æ–¹å‘
4. ç”Ÿæˆæ•´åˆæŠ¥å‘Š
```

### é˜¶æ®µ 3ï¼šä¼˜åŒ–ç°æœ‰ç³»ç»Ÿï¼ˆ2-3 å¤©ï¼‰

**å¢å¼º research_deep_dive å‘½ä»¤**ï¼š
- æ”¯æŒä»çŸ¥è¯†åº“è¯»å–ç§å­è®ºæ–‡
- æ·»åŠ æ–‡çŒ®å¼•ç”¨ä¸Šä¸‹æ–‡
- ç”Ÿæˆä¸æ–‡çŒ®ç½‘ç»œçš„å…³è”

## ğŸ“‚ è°ƒæ•´åçš„é¡¹ç›®ç»“æ„

```
academic-agentic-loop/
â”œâ”€â”€ .claude/
â”‚   â””â”€â”€ commands/
â”‚       â”œâ”€â”€ research_deep_dive.md        # âœ… å·²å­˜åœ¨
â”‚       â”œâ”€â”€ research_collaborative.md     # âœ… å·²å­˜åœ¨
â”‚       â”œâ”€â”€ literature_crawler.md         # ğŸ“‹ å¾…åˆ›å»ºï¼ˆæ ¸å¿ƒï¼‰
â”‚       â””â”€â”€ research_workflow.md          # ğŸ“‹ å¾…åˆ›å»ºï¼ˆæ•´åˆï¼‰
â”‚
â”œâ”€â”€ .kiro/
â”‚   â””â”€â”€ specs/
â”‚       â””â”€â”€ literature-crawler/
â”‚           â”œâ”€â”€ requirements.md           # âœ… ä¿ç•™ï¼ˆä½œä¸ºå‚è€ƒï¼‰
â”‚           â”œâ”€â”€ design.md                # âœ… ç®€åŒ–ï¼ˆå‘½ä»¤è®¾è®¡ï¼‰
â”‚           â””â”€â”€ tasks.md                 # âœ… è°ƒæ•´ï¼ˆå‘½ä»¤ä»»åŠ¡ï¼‰
â”‚
â”œâ”€â”€ seed_papers/                          # ç§å­è®ºæ–‡
â”œâ”€â”€ research_output/                      # ç ”ç©¶æ¢ç´¢è¾“å‡º
â”œâ”€â”€ literature_output/                    # æ–‡çŒ®çˆ¬å–è¾“å‡º
â”‚   â”œâ”€â”€ knowledge_base.json              # çŸ¥è¯†åº“
â”‚   â”œâ”€â”€ citation_graph.json              # å¼•ç”¨å›¾è°±
â”‚   â””â”€â”€ papers/                          # æ–‡çŒ®è¯¦æƒ…
â”‚       â”œâ”€â”€ paper_1.md
â”‚       â””â”€â”€ paper_2.md
â”‚
â””â”€â”€ tools/                                # è¾…åŠ©å·¥å…·ï¼ˆå¯é€‰ï¼‰
    â””â”€â”€ visualize_graph.py               # å¯è§†åŒ–è„šæœ¬
```

## ğŸ¯ æ ¸å¿ƒä»»åŠ¡è°ƒæ•´

### âŒ åˆ é™¤çš„ä»»åŠ¡ï¼ˆä¸éœ€è¦ç¼–ç¨‹å®ç°ï¼‰
- ~~åˆ›å»º Python ç±»å’Œæ¨¡å—~~
- ~~å®ç° API å®¢æˆ·ç«¯~~
- ~~å®ç°é˜Ÿåˆ—ç®¡ç†å™¨~~
- ~~å®ç°å›å½’å¼•æ“~~
- ~~åˆ›å»º CLI~~

### âœ… ä¿ç•™çš„ä»»åŠ¡ï¼ˆå‘½ä»¤ç¼–æ’ï¼‰
1. **åˆ›å»º literature_crawler.md å‘½ä»¤**
   - å®šä¹‰å‚æ•°è§£æ
   - è®¾è®¡ 5 ä¸ªæ‰§è¡Œé˜¶æ®µ
   - ç¼–æ’å¹¶è¡Œ Agent ä»»åŠ¡

2. **è®¾è®¡ Sub Agent ä»»åŠ¡è§„èŒƒ**
   - æ–‡çŒ®è·å– Agent
   - å¼•ç”¨æå– Agent
   - çŸ¥è¯†æå– Agent
   - è´¨é‡è¯„ä¼° Agent

3. **å®ç°æ³¢æ¬¡ç®¡ç†é€»è¾‘**
   - 1-5 ä¸ªæ–‡çŒ®ï¼šå…¨éƒ¨å¹¶è¡Œ
   - 6-20 ä¸ªæ–‡çŒ®ï¼šåˆ†æ‰¹å¤„ç†
   - >20 ä¸ªæ–‡çŒ®ï¼šæ³¢æ¬¡è¿­ä»£

4. **åˆ›å»ºæ•´åˆå‘½ä»¤**
   - research_workflow.md
   - ä¸²è”ä¸¤ä¸ªç³»ç»Ÿ

5. **ä¼˜åŒ–è¾“å‡ºæ ¼å¼**
   - çŸ¥è¯†åº“ JSON ç»“æ„
   - æ–‡çŒ®è¯¦æƒ… Markdown æ¨¡æ¿
   - å¼•ç”¨å›¾è°±æ•°æ®æ ¼å¼

## ğŸ’¡ å…³é”®å®ç°ç»†èŠ‚

### 1. æ–‡çŒ®è·å–ï¼ˆé€šè¿‡ Claude Code çš„ç½‘ç»œèƒ½åŠ›ï¼‰

```markdown
**Sub Agent Task: Fetch Paper Metadata**

Given paper identifier: {paper_id}

1. Determine identifier type (DOI/arXiv/Title)
2. Use appropriate API:
   - Semantic Scholar: https://api.semanticscholar.org/v1/paper/{id}
   - arXiv: http://export.arxiv.org/api/query?id={id}
3. Extract metadata: title, authors, abstract, year, citations
4. Save to: literature_output/papers/paper_{n}.md
5. Return: paper_id, metadata_summary, citation_count
```

### 2. å¹¶è¡Œåè°ƒï¼ˆç±»ä¼¼ research_deep_diveï¼‰

```markdown
**PARALLEL CRAWLING COORDINATION**

If queue_size <= 5:
  Deploy all agents simultaneously
  
If 6 <= queue_size <= 20:
  Deploy in batches of 5
  Wait for batch completion before next batch
  
If queue_size > 20:
  Use wave strategy:
  - Wave 1: Process top 5 priority papers
  - Analyze results and update priorities
  - Wave 2: Process next 5 papers
  - Continue until depth limit reached
```

### 3. çŸ¥è¯†åº“ç®¡ç†ï¼ˆJSON æ–‡ä»¶ï¼‰

```json
{
  "papers": {
    "paper_1": {
      "id": "DOI:10.1234/example",
      "title": "...",
      "authors": [...],
      "abstract": "...",
      "year": 2023,
      "citations": [...],
      "cited_by": [...],
      "knowledge": {
        "research_questions": [...],
        "methods": [...],
        "contributions": [...]
      }
    }
  },
  "citation_graph": {
    "nodes": [...],
    "edges": [...]
  },
  "metadata": {
    "seed_papers": [...],
    "crawl_depth": 2,
    "total_papers": 50,
    "last_updated": "2024-01-01"
  }
}
```

## ğŸš€ ç«‹å³å¯æ‰§è¡Œçš„è¡ŒåŠ¨

### ä»Šå¤©ï¼ˆ1-2 å°æ—¶ï¼‰

1. **åˆ›å»º literature_crawler.md å‘½ä»¤éª¨æ¶**
   ```bash
   # åˆ›å»ºæ–‡ä»¶
   touch .claude/commands/literature_crawler.md
   
   # å®šä¹‰åŸºæœ¬ç»“æ„
   # - å‚æ•°è§£æ
   # - 5 ä¸ªæ‰§è¡Œé˜¶æ®µ
   # - Sub Agent ä»»åŠ¡æ¨¡æ¿
   ```

2. **æµ‹è¯•åŸºç¡€åŠŸèƒ½**
   ```bash
   # åœ¨ Claude Code ä¸­æµ‹è¯•
   /literature_crawler "10.48550/arXiv.1706.03762" 1 test_output
   
   # é¢„æœŸè¾“å‡ºï¼š
   # - test_output/knowledge_base.json
   # - test_output/papers/paper_1.md
   ```

### æœ¬å‘¨ï¼ˆ3-5 å¤©ï¼‰

1. **å®Œå–„ literature_crawler å‘½ä»¤**
   - å®ç°æ‰€æœ‰ 5 ä¸ªé˜¶æ®µ
   - æ·»åŠ é”™è¯¯å¤„ç†
   - ä¼˜åŒ–å¹¶è¡Œåè°ƒ

2. **åˆ›å»º research_workflow æ•´åˆå‘½ä»¤**
   - ä¸²è”ä¸¤ä¸ªç³»ç»Ÿ
   - æµ‹è¯•ç«¯åˆ°ç«¯æµç¨‹

3. **æ›´æ–°æ–‡æ¡£**
   - ç®€åŒ– design.mdï¼ˆç§»é™¤ç¼–ç¨‹å®ç°éƒ¨åˆ†ï¼‰
   - æ›´æ–° tasks.mdï¼ˆæ”¹ä¸ºå‘½ä»¤ä»»åŠ¡ï¼‰
   - æ›´æ–° README

## ğŸ“Š æ•ˆæœå¯¹æ¯”

### V1 æ–¹æ¡ˆï¼ˆé”™è¯¯ï¼‰
- âŒ éœ€è¦ 2-3 å‘¨ç¼–ç¨‹å®ç°
- âŒ 17 ä¸ªå¤æ‚çš„ç¼–ç¨‹ä»»åŠ¡
- âŒ éœ€è¦ç»´æŠ¤å¤§é‡ä»£ç 
- âŒ åç¦»åŸé¡¹ç›®ç†å¿µ

### V2 æ–¹æ¡ˆï¼ˆæ­£ç¡®ï¼‰
- âœ… åªéœ€ 3-5 å¤©åˆ›å»ºå‘½ä»¤
- âœ… 5 ä¸ªå‘½ä»¤ç¼–æ’ä»»åŠ¡
- âœ… é›¶ä»£ç ç»´æŠ¤ï¼ˆçº¯å‘½ä»¤ï¼‰
- âœ… å®Œå…¨ç¬¦åˆåŸé¡¹ç›®æ¨¡å¼

## ğŸ¯ æˆåŠŸæ ‡å‡†

### çŸ­æœŸï¼ˆä»Šå¤©ï¼‰
- [ ] åˆ›å»º literature_crawler.md éª¨æ¶
- [ ] å®šä¹‰å‚æ•°è§£æé€»è¾‘
- [ ] è®¾è®¡ Sub Agent ä»»åŠ¡æ¨¡æ¿

### ä¸­æœŸï¼ˆæœ¬å‘¨ï¼‰
- [ ] å®Œæˆ literature_crawler å‘½ä»¤
- [ ] èƒ½å¤Ÿçˆ¬å– 1 å±‚å¼•ç”¨ç½‘ç»œ
- [ ] ç”ŸæˆçŸ¥è¯†åº“ JSON æ–‡ä»¶
- [ ] åˆ›å»ºæ•´åˆå‘½ä»¤

### é•¿æœŸï¼ˆä¸‹å‘¨ï¼‰
- [ ] æ”¯æŒå¤šå±‚çˆ¬å–
- [ ] å®ç°å›å½’ä¼˜åŒ–
- [ ] å®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] æ›´æ–°æ‰€æœ‰æ–‡æ¡£

## ğŸ’¡ å…³é”®æ´å¯Ÿ

**åŸé¡¹ç›®çš„ç²¾é«“**ï¼š
> ä¸æ˜¯å†™ä»£ç ï¼Œè€Œæ˜¯**ç¼–æ’ AI ä»£ç†**

**Claude Code çš„èƒ½åŠ›**ï¼š
- å¹¶è¡Œæ‰§è¡Œå¤šä¸ª Sub Agent
- æ¯ä¸ª Agent å¯ä»¥è®¿é—®ç½‘ç»œã€è¯»å†™æ–‡ä»¶
- ä¸»åè°ƒå™¨ç®¡ç† Agent çš„ä»»åŠ¡åˆ†é…
- è‡ªåŠ¨å¤„ç†ä¸Šä¸‹æ–‡å’Œç»“æœæ”¶é›†

**æˆ‘ä»¬è¦åšçš„**ï¼š
- è®¾è®¡æ¸…æ™°çš„ Agent ä»»åŠ¡è§„èŒƒ
- ç¼–æ’åˆç†çš„å¹¶è¡Œç­–ç•¥
- å®šä¹‰æ ‡å‡†çš„è¾“å‡ºæ ¼å¼
- å®ç°æ™ºèƒ½çš„è¿­ä»£é€»è¾‘

## ğŸš€ ç«‹å³å¼€å§‹

**ä½ æƒ³è¦æˆ‘å¸®ä½ ï¼š**

1. **åˆ›å»º literature_crawler.md å‘½ä»¤éª¨æ¶**
   - æˆ‘ä¼šåˆ›å»ºå®Œæ•´çš„å‘½ä»¤æ–‡ä»¶
   - åŒ…å« 5 ä¸ªæ‰§è¡Œé˜¶æ®µ
   - å®šä¹‰ Sub Agent ä»»åŠ¡è§„èŒƒ

2. **ç®€åŒ–ç°æœ‰çš„ spec æ–‡æ¡£**
   - ç§»é™¤ç¼–ç¨‹å®ç°éƒ¨åˆ†
   - æ”¹ä¸ºå‘½ä»¤è®¾è®¡æ–‡æ¡£
   - æ›´æ–°ä»»åŠ¡åˆ—è¡¨

3. **æ›´æ–°é¡¹ç›®æ–‡æ¡£**
   - ä¿®æ­£ README
   - æ›´æ–°ä¼˜åŒ–æ–¹æ¡ˆ
   - åˆ›å»ºå¿«é€Ÿå¼€å§‹æŒ‡å—

**é€‰æ‹©ä¸€ä¸ªï¼Œæˆ‘ä»¬ç«‹å³å¼€å§‹ï¼** ğŸš€
